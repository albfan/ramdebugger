<html>
    <!---*- coding: utf-8;-*- -->
    <head>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
        <style type="text/css">
	    p { text-align:justify; }
	    body { font-family: Verdana, Arial, Helvetica, Geneva; font-size 8px; }
	    a { text-decoration:none }
	    pre { font-family:Courier New, Courier, Mono; }
	    h1 { font-family:Arial; font-size: 28; font-weight: bold; color:DarkBlue; }
	    h2 { font-family:Arial; font-size: 24; font-weight: bold; color:DarkBlue; }
	    h3 { font-family:Arial; font-size: 22; font-weight: bold; color:DarkBlue; }
	    h4 { font-family:Arial; font-size: 18; font-weight: bold; color:DarkBlue; }
	    h4 { font-family:Arial; font-size: 18; font-weight: bold; color:DarkBlue; }
	    h4 { font-family:Arial; font-size: 18; font-weight: bold; color:DarkBlue; }
	    P { text-align:justify; font-family:Arial, Helvetica, sans-serif; font-size: 17; }
	    code { font-family:Courier New, Courier, Mono; font-size: 16; }
	    li { text-align:justify; font-family:Arial, Helvetica, sans-serif; font-size: 17; 
		margin-top: 7px; }
	    ol { text-align:justify; font-family:Arial, Helvetica, sans-serif; font-size: 17;  
		margin-top: 7px; }
	    ul { text-align:justify; font-family:Arial, Helvetica, sans-serif; font-size: 17; 
		margin-top: 7px; }
	</style>
        <title>Debugging</title>
    </head>
    <body>
        <a name="Usage&gt;Debugging"/>
        <h3>Debugging</h3>
        <p>There are several ways to debug a program.</p>
        <a name="Usage&gt;Debugging&gt;Debugging locally"/>
        <h4>Debugging locally</h4>
        <p>To debug a TCL file locally, apply the following steps:</p>
        <ul>
            <li>Load the TCL file inside RamDebugger with <code>Files-&gt;Open file</code>
. To make a test, use the example located in <b>&lt;RamDebugger directory&gt;/Examples/example1.tcl</b>
            </li>
        </ul>
        <ul>
            <li>Set a breakpoint in line 4 with <code>Debug-&gt;Set breakpoint</code>
 or press <b>F9</b>
 after having the cursor in the desired line.            </li>
        </ul>
        <ul>
            <li>Start the debugger with <code>Debug-&gt;Go</code>
 or press <b>F5</b>
. A grey arrow at the left of the text indicates that the program has stopped in that line.            </li>
        </ul>
        <ul>
            <li>to continue one line, use <code>Debug-&gt;Next</code>
 or press <b>F10</b>
.            </li>
        </ul>
        <ul>
            <li>Use <code>Edit-&gt;Goto line-&gt;27</code>
 and press <code>Debug-&gt;Continue to</code>
            </li>
        </ul>
        <ul>
            <li>Modify source code line <b>21</b>
 from:            </li>
        </ul>
        <p/>
        <blockquote>
            <p>	set cc $bb--qq</p>
        </blockquote>
        <p/>
        <p>to:</p>
        <p/>
        <blockquote>
            <p>	set cc $bb--qq2</p>
        </blockquote>
        <p/>
        <p/>
        <ul>
            <li>to continue one line, entering in functions, use <code>Debug-&gt;Step</code>
 or press <b>F11</b>
.            </li>
        </ul>
        <ul>
            <li>Press <b>F11</b>
 several times until arrow is in line <b>22</b>
            </li>
        </ul>
        <ul>
            <li>Put the mouse cursor over variable <b>cc</b>
 and leave it there for aprox. one second. The value of the variable appears in a popup window. Note that it holds the new value, after the modification of the code.            </li>
        </ul>
        <ul>
            <li>To see the value of one expression, open the window: <code>Debug-&gt;Expressions</code>
 and write: <code>[string length $i]+3</code>
            </li>
        </ul>
        <ul>
            <li>To modify the value of variable <b>i</b>
, enter <b>i</b>
 in the left column of the <b>User defined variables</b>
, enter the new value in the right column and pres <code>Return</code>
.            </li>
        </ul>
        <a name="Usage&gt;Debugging&gt;Debugging remotely"/>
        <h4>Debugging remotely</h4>
        <p>To debug a TCL file remotely, apply the following steps:</p>
        <ul>
            <li>execute the external program outside of RamDebugger. In this case, execute <b>Examples/example2.tcl</b>
 by double clicking over it or using <code>wish example2.tcl</code>
            </li>
        </ul>
        <ul>
            <li>Open RamDebugger</li>
        </ul>
        <ul>
            <li>Load the TCL file inside RamDebugger with <code>Files-&gt;Open file</code>
. In this case, use the example located in <b>&lt;RamDebugger directory&gt;/Examples/example2.tcl</b>
            </li>
        </ul>
        <ul>
            <li>Set a breakpoint in line 29 with <code>Debug-&gt;Set breakpoint</code>
 or press <b>F9</b>
 after having the cursor in the desired line.            </li>
        </ul>
        <ul>
            <li>Start debugging remotely with <b>File-&gt;Debug on-&gt;example2Note:</b>
 Depending on the preferences, it may be necessary to do <code>File-&gt;Debug on-&gt;Update remotes</code>
 before finding the remote program in the menu list. Depending on the computer (in Windows), it can be necessary to wait for several seconds for RamDebugger to find the remote program.            </li>
        </ul>
        <ul>
            <li>Press button <b>Go</b>
 in the remote application            </li>
        </ul>
        <ul>
            <li>Program should stop in line 29. From now, it is possible to use similar commands than in local debugging (see <a href="RamDebugger05.html#Usage&gt;Debugging&gt;Debugging locally">Debugging locally</a>
)            </li>
        </ul>
        <p>To debug remotely, in Windows it is necessary to load the package <code>comm</code>
 in the remote program. To do so use add something similar to the code below in you program, in any place that gets executed before beginning the debug session (typically at the beginning of your program):        </p>
        <p/>
        <blockquote>
            <p>    lappend ::auto_path &lt;RamDebugger path&gt;/addons</p>
        </blockquote>
        <blockquote>
            <p>    package require commR</p>
        </blockquote>
        <blockquote>
            <p>    comm::register application_name 1</p>
        </blockquote>
        <p/>
        <p>
            <b>Note:</b>
 The package <code>commR</code>
 included in RamDebugger is based on the package <b>comm</b>
 in tcllib with some modifications. Use always <b>commR</b>
 instead of <b>comm</b>
. This package uses sockets for communication. If you have a firewall in your computer, maybe it will not work. In Linux/Unix, the communication is made with the command <b>send</b>
, So, it is only necessary to have this command enabled in the program, which is true by default. <b>Note:</b>
 It can be necessary to check the security of the server in Unix before being able to use <b>send</b>
. As a fast workaround, write command <b>xhost -</b>
 in the UNIX command line.        </p>
        <p>
            <b>Note:</b>
 Package commR can also be used in <b>Unix</b>
 and <b>MacOSX</b>
.        </p>
        <a name="Usage&gt;Debugging&gt;Debugging as package"/>
        <h4>Debugging as package</h4>
        <p>Check <code>example4.tcl</code>
 to see how <b>Ramdebugger</b>
 can be used as a package.        </p>
        <a name="Usage&gt;Debugging&gt;Wait for RamDebugger"/>
        <h4>Wait for RamDebugger</h4>
        <p>It is possible to add a command in the debugged program that stops execution and waits for <b>RamDebugger</b>
 to be connected to it remotely. Command is:        </p>
        <p/>
        <blockquote>
            <blockquote>
                <p>commR::wait_for_debugger</p>
            </blockquote>
        </blockquote>
        <blockquote>
            <blockquote>
                <p/>
            </blockquote>
        </blockquote>
        <p>Check example "example2b.tcl"for details.</p>
        <a name="Usage&gt;Debugging&gt;Debugging GiD"/>
        <h4>Debugging GiD</h4>
        <p>GiD is a pre/postprocessing program for Finite Element Analysis that uses TCL/TK as its extension language <a href="http://www.gidhome.com">http://www.gidhome.com</a>
.        </p>
        <p>To debug GiD in Windows, it is necessary to load the <b>comm</b>
 package. Do it in file: <code>&lt;GiD installation dir&gt;/scripts/tclfile-opengl</code>
 around line 420 before section <code>Debug funcs</code>
.        </p>
        <p>In UNIX, it should work directly.</p>
        <p>Check section <a href="RamDebugger05.html#Usage&gt;Debugging&gt;Debugging remotely">Debugging remotely</a>
 for the rest of the steps to follow. Check section <a href="RamDebugger05.html#Usage&gt;Debugging&gt;Debugging as package">Debugging as package</a>
 for an alternative way of debugging GiD. Specifically, the package require RamDebugger should be added near the end of file <code>&lt;GiD installation dir&gt;/scripts/tclfile-opengl</code>
.        </p>
        <a name="Usage&gt;Debugging&gt;Debugging RamDebugger"/>
        <h4>Debugging RamDebugger</h4>
        <p>As a good debugger must do, RamDebugger permmits to debugger itself. As it is not a simple code, this is a good testing of the program capabilities. It can be debugged either locally or remotely. To debug itself locally, open TCL source file <b>RamDebugger.tcl</b>
 and choose <code>File-&gt;Debug on-&gt;Currentfile</code>
. See <a href="RamDebugger05.html#Usage&gt;Debugging&gt;Debugging locally">Debugging locally</a>
 for details. To debug itself remotely, open two RamDebuggers. From one of them, connect to the other with <code>File-&gt;Debug on-&gt;RamDebugger</code>
. In <b>Windows</b>
, if option <code>Automatically check remote files</code>
 is unset (the default), it can be necessary to use <code>Debug on-&gt; Update remotes</code>
 on both RamDebuggers.        </p>
    </body>
</html>
